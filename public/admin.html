<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pannello Admin - Party Legacy</title>
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üéâ Pannello Admin - Party Legacy</h1>
            <button id="logoutBtn" onclick="logout()" class="logout-btn" style="display: none;">Esci</button>
        </div>

        <!-- Login Section -->
        <div class="section" id="loginSection">
            <h2>Accesso Admin</h2>
            <div id="loginError" class="error"></div>
            <div class="form-group">
                <label for="adminPassword">Password:</label>
                <input type="password" id="adminPassword" placeholder="Inserisci password admin">
            </div>
            <button onclick="adminLogin()">Accedi</button>
        </div>

        <!-- Admin Dashboard (Hidden until login) -->
        <div id="adminDashboard" style="display: none;">
            <div class="section">
                <h2>Configurazione Evento</h2>
                <div id="configSuccess" class="success">Configurazione salvata!</div>
                <div id="configError" class="error"></div>
                <div class="form-group">
                    <label for="eventName">Nome Evento:</label>
                    <input type="text" id="eventName" placeholder="Nome dell'evento">
                </div>
                <div class="form-group">
                    <label for="eventTime">Data e Ora:</label>
                    <input type="datetime-local" id="eventTime">
                </div>
                <div class="form-group">
                    <label for="eventLocation">Luogo:</label>
                    <input type="text" id="eventLocation" placeholder="Indirizzo dell'evento">
                </div>
                <div class="form-group">
                    <label>Servizi Disponibili:</label>
                    <div class="services-grid">
                        <label class="service-checkbox">
                            <input type="checkbox" id="serviceFood" checked>
                            <span class="checkmark"></span>
                            <span class="service-text">üçΩÔ∏è Cibo</span>
                        </label>
                        <label class="service-checkbox">
                            <input type="checkbox" id="serviceSleep" checked>
                            <span class="checkmark"></span>
                            <span class="service-text">üõèÔ∏è Dormire</span>
                        </label>
                        <label class="service-checkbox">
                            <input type="checkbox" id="serviceRosmarino" checked>
                            <span class="checkmark"></span>
                            <span class="service-text">üåø Rosmarino</span>
                        </label>
                        <label class="service-checkbox">
                            <input type="checkbox" id="serviceAlcohol" checked>
                            <span class="checkmark"></span>
                            <span class="service-text">üç∑ Alcol</span>
                        </label>
                    </div>
                </div>
                <div style="display: flex; gap: 16px;">
                    <button onclick="saveConfig()">Salva Configurazione</button>
                    <button onclick="resetEvent()" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);">Reset Evento</button>
                </div>
            </div>

            <div class="section">
                <h2>Crea Nuovo Invito</h2>
                <div id="createSuccess" class="success">Invito creato con successo!</div>
                <div id="createError" class="error"></div>
                <div class="form-group">
                    <label for="name">Nome:</label>
                    <input type="text" id="name" placeholder="Nome ospite">
                </div>
                <button onclick="createInvite()">Genera Invito</button>
            </div>

            <div class="section">
                <h2>Inviti e Risposte</h2>
                <div id="invitesContainer" style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Codice</th>
                                <th>Stato</th>
                                <th>Partecipa <span id="participatingCount" class="icon icon-yes">(0)</span></th>
                                <th>Rosmarino <span id="rosmarinoCount" class="icon icon-yes">(0)</span></th>
                                <th>Cibo <span id="eatingCount" class="icon icon-yes">(0)</span></th>
                                <th>Alcol <span id="alcoholCount" class="icon icon-yes">(0)</span></th>
                                <th>Dormire <span id="sleepCount" class="icon icon-yes">(0)</span></th>
                                <th>Inviato</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody id="invitesTable">
                            <tr>
                                <td colspan="10" style="text-align: center; color: #999;">Caricamento...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="mobileLogout" class="mobile-logout">
                <button onclick="logout()" class="logout-btn">Esci</button>
            </div>
        </div>
    </div>

    <div id="copyFeedback" class="copy-feedback"></div>

    <script src="admin.js"></script>
</body>

</html>
